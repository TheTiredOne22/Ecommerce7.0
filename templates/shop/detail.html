{% block title %} {% endblock %}
<body class="antialiased bg-white dark:bg-gray-900">
{% include 'base.html' %}
{% include 'shop/partials/navbar.html' %}
<main class="grow">
    <section class="pt-3 md:pt-5">
        <div class="grid border-b border-gray-200 md:pb-10 lg:gap-8 lg:grid-cols-3 dark:border-gray-800">
            <div class="col-span-2 mb-2 lg:mb-0">
                {% include 'shop/partials/breadcrumbs.html' %}

            </div>

        </div>
        <div class="flex pt-10 overflow-hidden bg-gray-50 dark:bg-gray-900">
            <div id="main-content"
                 class="relative w-full max-w-screen-2xl mx-auto h-full overflow-y-auto bg-gray-50 dark:bg-gray-900">
                <div class="grid gap-4 px-4 mb-4 md:grid-cols-2 xl:grid-cols-4 xl:px-0">
                    <div class="image">
                        <div>
                            <h4 id="read-drawer-label"
                                class="mb-1.5 leading-none text-xl font-semibold text-gray-900 dark:text-white">
                                {{ product.product_name }}</h4>
                            <h5 class="mb-5 text-xl font-bold text-gray-900 dark:text-white">${{ product.price }}</h5>
                        </div>

                        <div class="p-2 w-auto bg-gray-100 rounded-lg dark:bg-gray-700">
                            <img src="{% if product.product_image %} {{ product.product_image.url}} {% else %} {% endif%}">
                        </div>
                    </div>

                    <div id="details" class="">
                        <dl class="sm:mb-5">
                            <dt class="mb-2 font-semibold leading-none text-gray-900 dark:text-white">Details</dt>
                            <dd class="mb-4 font-light text-gray-500 sm:mb-5 dark:text-gray-400">
                                {{ product.description }}
                            </dd>
                        </dl>
                        <dl class="grid grid-cols-2 gap-4 mb-4">
                            <div class="col-span-2 p-3 bg-gray-100 rounded-lg border border-gray-200 dark:bg-gray-700 sm:col-span-1 dark:border-gray-600">
                                <dt class="mb-2 font-semibold leading-none text-gray-900 dark:text-white">Shipping</dt>
                                <dd class="flex items-center text-gray-500 dark:text-gray-400">
                                    <svg class="w-4 h-4 mr-1.5" aria-hidden="true" fill="currentColor"
                                         viewbox="0 0 20 20"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                              d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                                              clip-rule="evenodd"/>
                                    </svg>
                                    United States, Europe
                                </dd>
                            </div>
                            <div class="p-3 bg-gray-100 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600">
                                <dt class="mb-2 font-semibold leading-none text-gray-900 dark:text-white">Product
                                    State
                                </dt>
                                <dd class="text-gray-500 dark:text-gray-400">
                        <span class="bg-primary-100 text-primary-800 text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded dark:bg-primary-200 dark:text-primary-800">
                            <svg aria-hidden="true" class="mr-1 w-3 h-3" fill="currentColor" viewbox="0 0 20 20"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                            New
                        </span>
                                </dd>
                            </div>
                            <div class="p-3 bg-gray-100 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600">
                                <dt class="mb-2 font-semibold leading-none text-gray-900 dark:text-white">Sold by</dt>
                                <dd class="text-gray-500 dark:text-gray-400">Flowbite</dd>
                            </div>
                            <div class="p-3 bg-gray-100 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600">
                                <dt class="mb-2 font-semibold leading-none text-gray-900 dark:text-white">Ships from
                                </dt>
                                <dd class="text-gray-500 dark:text-gray-400">Flowbite</dd>
                            </div>
                            <div class="p-3 bg-gray-100 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600">
                                <dt class="mb-2 font-semibold leading-none text-gray-900 dark:text-white">Brand</dt>
                                <dd class="text-gray-500 dark:text-gray-400">Apple</dd>
                            </div>
                        </dl>
                        <form hx-post="{%  url 'cart:add_to_cart' product_id=product.id%}"
                  hx-swap="outerHTML"
                  hx-target="#menu-cart-button">

                        <div class="flex bottom-0 left-0 justify-center pb-4 space-x-4 w-full">

                            <div class="relative flex items-center max-w-[8rem]">

        <button type="button" id="decrement-button" data-input-counter-decrement="quantity-input" class="bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-s-lg p-3 h-11 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none">
            <svg class="w-3 h-3 text-gray-900 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 2">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h16"/>
            </svg>
        </button>
        <input type="text" id="quantity-input" name="quantity" data-input-counter data-input-counter-min="1" data-input-counter-max="{{ product.quantity }}" aria-describedby="helper-text-explanation" class="bg-gray-50 border-x-0 border-gray-300 h-11 text-center text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full py-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="{{ product.quantity }}" value="1" required>
        <button type="button" id="increment-button" data-input-counter-increment="quantity-input" class="bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600 hover:bg-gray-200 border border-gray-300 rounded-e-lg p-3 h-11 focus:ring-gray-100 dark:focus:ring-gray-700 focus:ring-2 focus:outline-none">
            <svg class="w-3 h-3 text-gray-900 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
            </svg>
        </button>
    </div>
                            <button type="submit" id="add-to-cart-button"
                                    class="w-full flex items-center justify-center px-5 py-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                                    hx-swap="outerHTML">
                                Add to Cart
                            </button>
                            </form>


                        </div>
                    </div>
                </div>


            </div>
        </div>


    </section>


</main>
{% include 'footer.html' %}

<script>
    const incrementButton = document.getElementById('increment-button');
const decrementButton = document.getElementById('decrement-button');
const quantityInput = document.getElementById('quantity-input');

// Add click event to the increment button
incrementButton.addEventListener('click', () => {
  let newValue = parseInt(quantityInput.value) + 1;
  if (newValue <= parseInt(quantityInput.getAttribute('data-input-counter-max'))) {
    quantityInput.value = newValue;
  }
});

// Add click event to the decrement button
decrementButton.addEventListener('click', () => {
  let newValue = parseInt(quantityInput.value) - 1;
  if (newValue >= parseInt(quantityInput.getAttribute('data-input-counter-min'))) {
    quantityInput.value = newValue;
  }
});
</script>
</body>


</html>